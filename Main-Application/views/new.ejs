<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating new Reports</title>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDzZVIVOQSOBJj6dcwujiblHYmnfT3k3bU&libraries=places"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="/newPub/new.css" /> <!--If we don't have / at the beginning, it will lead to error-->
    <script type="module" src="/newPub/new.js"></script>

    
</head>

<body >
    <!--NAVBAR-->
    <nav class="navbar navbar-expand-lg pt-4 bg-body-tertiary navbar-custom-homepage">
      <div class="container">
        <a class="navbar-brand" href="/homepage">
          <img src="/image/Logo.png" alt="My logo" width="300" height="75" />
        </a>
  
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
  
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item">
              <a class="nav-link" href="/homepage"><b>Home</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/map"><b>Safe Map</b></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/service"><b>Support Service</b></a>
            </li>
          </ul>
          <button class="btn btn-primary ms-lg-3">Log in</button>
          <button class="btn btn-primary ms-lg-3">Sign up</button>
        </div>
      </div>
    </nav>
  
    <!--END OF NAVBAR-->


  <div class="d-flex justify-content-center align-items-center pt-5" style="height: 100vh;color:black;">
    <div class="container d-flex justify-content-center align-items-center ">
      <div class="form" style="background-image:url('https://static.vecteezy.com/system/resources/thumbnails/007/718/403/small_2x/simple-retro-template-background-free-vector.jpg');background-repeat: no-repeat; background-size: cover;width:900px">
          <h1 class="text-center">ANNONYMOUS REPORT</h1> 
          <p>The time you raised your voice, you are saving other students from sexual, harassment, discrimination issues.</p>
          <form action="/reports" method="POST" onsubmit="console.log(1232);event.preventDefault(); getLocation();">
              <label for="title">Report title:<span style="color:red">*</span></label>  <br>
              <input class="input" type="text" name="title" id="title" placeholder="Report Title" required /> <br>
              <label for="time">Report time:<span style="color:red">*</span></label> <br>
              <input class="input" type="time" name="time" id="time" placeholder="Report Time" required /> <br>
              <label for="date">Report Date:<span style="color:red">*</span></label> <br>
              <input class="input" type="date" id="date" name="date" placeholder="Report date" required /> <br>
              <label for="location">Report Location:<span style="color:red">*</span></label> <br>
              <input class="input" type="text" id="location" name="location" placeholder="Report location" value="DePauw University, South Locust Street, Greencastle, IN, USA" required />  <br>
              <label for="description">Report description:<span style="color:red">*</span></label> <br>
              <textarea class="input" id="description" name="description" placeholder="Report description" style="height:150px;" required></textarea>
              <input type="hidden" id="latitude" name="latitude"> <br>
              <input type="hidden" id="longitude" name="longitude"> <br>
              <button type="submit"  class="custom-btn" style="width: 100%; height:40px; background-color: #f48c06;color:white;"><b>Submit</b></button>
              <div id="validation-message" style="font-size: 15px; font-weight:bold;"></div>
          </form>
          <a href="/map">Back to map</a>
      </div>
    </div>
  </div>

        <!--footer-->
        <footer style="margin-top:90px">
          <div class="footer-top">
            <div class="container">
              <div class="row">
                <div class="col-lg-4">
                  <img class="logo" src="/image/Logo-another.png" alt="" width="400px" style="margin-left: -70px" />
                </div>
                <div class="col-lg-2">
                  <h5 class="text-white"><b>Content</b></h5>
                  <ul class="list-unstyled">
                    <li><a href="/homepage"><i class='bx bxs-home' style='color: rgb(0, 255, 94);'></i> Home</a></li>
                    <li><a href="/reports/new"><i class='bx bxs-report'style='color: #E5BEEC;'></i> Anonymous Report</a></li>
                    <li><a href="/map"><i class='bx bxs-map' style='color: #FFD93D;'></i> Safe Map</a></li>
                    <li><a href="/service"><i class='bx bx-happy-alt' style='color: #B0DAFF;'></i> Support Service</a></li>
                  </ul>
                </div>
                <div class="col-lg-2">
                  <h5 class="text-white"><b>More</b></h5>
                  <ul class="list-unstyled">
                    <li><a href="#">FAQ's</a></li>
                    <li><a href="#">Terms</a></li>
                    <li><a href="#">Privacy</a></li>
                    <li><a href="#">Support</a></li>
                  </ul>
                </div>
                <div class="col-lg-4">
                  <h5 class="text-white"><b>Contact</b></h5>
                  <ul class="list-unstyled">
                    <li><i class='bx bx-current-location' style='color:#E8A0BF;'></i></i> Address: 408S Locust Street, Greencastle, Indiana</a></li>
                    <li><i class='bx bx-envelope' style='color:#DF2E38' ></i> Email: phuocong_2026@depauw.edu</li>
                    <li><i class='bx bx-phone' style='color:coral' ></i> Phone: (765) 246-2191</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
          <div class="footer-bottom py-3">
            <div class="container">
              <div class="row">
                <div class="col-md-6">
                  <p class="mb-0">
                    Â© 2020 copyright all right reserved | Designed by Peter Ong &
                    Darcy Tran<i></i>
                  </p>
                </div>
  
                <div class="col-md-6">
                  <div class="social-icons">
                    <a href="#"><i class="bx bxl-facebook"></i></a>
                    <a href="#"><i class="bx bxl-twitter"></i></a>
                    <a href="#"><i class="bx bxl-instagram-alt"></i></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </footer>
        <!--end of footer-->
  
    <script>
      var input = document.getElementById('location');
      var autocomplete = new google.maps.places.Autocomplete(input);
      console.log("Test getlocation")
      function getLocation() {
        console.log("Test getlocation");
        var geocoder = new google.maps.Geocoder();
        var address = document.getElementById('location').value;
        geocoder.geocode({ 'address': address }, function(results, status) {
          if (status == 'OK') {
            var latitude = results[0].geometry.location.lat() + (Math.random() * 0.0001) - 0.00005; //to ensure that 2 same place will have different markers
            var longitude = results[0].geometry.location.lng() + (Math.random() * 0.0001) - 0.00005; //to ensure that 2 same place will have different markers
            console.log(latitude, longitude); // Make sure these values are being logged correctly
            document.getElementById('latitude').value = latitude;
            document.getElementById('longitude').value = longitude;
            document.forms[0].submit(); // Submit the form after setting latitude and longitude
          } else {
            alert('Geocode was not successful for the following reason: ' + status);
          }
        });
      };


    </script>

    <script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
    ({key: "AIzaSyDzZVIVOQSOBJj6dcwujiblHYmnfT3k3bU", v: "weekly"});</script>
    <link href="https://fonts.googleapis.com/css?family=Sora&display=swap" rel="stylesheet">


    
    
</body>
</html>